# ==============================================================
# ~/.tmux.conf – tmux con apariencia DOS + Windows 95
# Compatible con xterm + .Xresources + .twmrc
# ==============================================================

# --------------------------------------------------------------
# 1. COLORES (hereda estilo DOS en paneles, Win95 en barra)
# --------------------------------------------------------------
# Paneles activos: fondo negro, texto verde fosforescente (como xterm DOS)
set -g pane-border-style        fg=green,bg=black
set -g pane-active-border-style fg=brightgreen,bg=black

# Barra de estado: gris plata (como ventanas Win95)
set -g status-style             bg='#c0c0c0',fg=black

# Ventana activa en barra: azul marino (como título activo en twm)
set -g window-status-current-style bg='#000080',fg=white,bold

# Ventana inactiva: gris claro
set -g window-status-style      bg='#dfdfdf',fg=black

# Mensajes: fondo blanco, texto negro
set -g message-style            bg=white,fg=black

# Reloj: formato 12h como en Win95
set -g clock-mode-style 12

# --------------------------------------------------------------
# 2. BARRA DE ESTADO (emula barra de tareas de Windows 95)
# --------------------------------------------------------------
set -g status on
set -g status-interval 1
set -g status-justify centre

# Izquierda: [Ventana] Nombre sesión
set -g status-left  " #S #[fg=black,bg='#c0c0c0']#[fg=white,bg='#000080'] #I:#W #[default]"

# Derecha: Hora | Carga | Fecha
set -g status-right "#[fg='#000080',bg='#c0c0c0']#[fg=white,bg='#000080'] %H:%M #[fg=black]#[fg=white,bg='#808080'] %Y-%m-%d "

# Longitud
set -g status-left-length  30
set -g status-right-length 50

# --------------------------------------------------------------
# 3. PANE ACTUAL (como ventana activa en Win95)
# --------------------------------------------------------------
set -g window-style        'bg=black,fg=green'
set -g window-active-style 'bg=black,fg=brightgreen'

# --------------------------------------------------------------
# 4. ATAJOS DE TECLADO (estilo Windows 95)
# --------------------------------------------------------------
# Prefijo: Ctrl+B (por defecto), pero agregamos Win95-like
set -g prefix C-b

# Alt + F4 = Cerrar panel
bind -n M-F4 kill-pane

# Alt + Tab = Cambiar panel
bind -n M-Tab select-pane -t :.+

# Ctrl + Alt + N = Nueva ventana (como Ctrl+N en Win95)
bind -n C-M-n new-window

# Alt + Espacio = Menú de tmux (como menú Inicio)
bind -n M-Space choose-tree

# --------------------------------------------------------------
# 5. COMPORTAMIENTO GENERAL
# --------------------------------------------------------------
set -g mouse on                    # Ratón como en Win95
set -g history-limit 10000
set -g base-index 1                # Ventanas desde 1
set -g pane-base-index 1
setw -g aggressive-resize on

# Renombrar ventanas automáticamente
setw -g automatic-rename on
set -g set-titles on
set -g set-titles-string "#T"

# --------------------------------------------------------------
# 6. MODOS (vi-like, opcional)
# --------------------------------------------------------------
setw -g mode-keys vi
bind -T copy-mode-vi v send -X begin-selection
bind -T copy-mode-vi y send -X copy-pipe-and-cancel "xclip -in -selection clipboard"

# --------------------------------------------------------------
# SOPORTE LATINO (ñ, acentos, ¿¡) en tmux
# --------------------------------------------------------------
set -g status-utf8 on
setw -g utf8 on

# Forzar codificación en paneles
set -gq @pane-utf8 on

# Entrada de acentos
bind -n M-Dead send-keys dead_acute
bind -n M-~ send-keys ntilde

# Forzar UTF-8 en tmux
set -g status-utf8 on
setw -g utf8 on
set -q -g status-utf8 on
set -q -g utf8 on

# Terminal con soporte UTF-8 real
set -g default-terminal "screen-256color"
set -ga terminal-overrides ",*256col*:Tc"
