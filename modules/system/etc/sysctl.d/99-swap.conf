# Tunables de swap y caché para sistemas Linux
# Este archivo no se aplica automáticamente por el instalador; cópialo manualmente
# a /etc/sysctl.d/ y ejecuta `sudo sysctl --system` si quieres aplicar estos valores.
#
# Recomendaciones (escritas para equipos de escritorio/laptop):
# - vm.swappiness: controla la preferencia del kernel por usar swap frente a mantener
#   páginas en RAM. El valor por defecto es 60. Para equipos de escritorio, 10 es
#   una buena elección (reduce el uso de swap y mejora la respuesta interactiva).
# - vm.vfs_cache_pressure: controla la rapidez con la que el kernel libera la cache
#   de metadatos de sistema de ficheros (dentries/inodes). Un valor más bajo preserva
#   la cache y puede mejorar el rendimiento de I/O en sistemas con RAM limitada.
#
# Nota importante sobre zswap / zram:
# - zswap (compresión en página antes de escribir a swap) se controla vía kernel
#   y parámetros en /sys/module/zswap/parameters o mediante parámetros del kernel
#   (p. ej. zswap.enabled=1). No todos los parámetros de zswap son sysctl.
# - zram crea dispositivos de swap comprimido en memoria; su configuración típicamente
#   se realiza con un servicio (systemd script) que crea el dispositivo, define tamaño
#   y formato (lz4) y activa swap sobre él.
# Si quieres usar zram en lugar de swap en disco, consíderalo como un paso adicional
# (crear unidad systemd o usar las utilidades de distribución).

# Ajustes sugeridos (cambia a conveniencia):
vm.swappiness = 10
vm.vfs_cache_pressure = 50

# Comentarios:
# - vm.swappiness=10: reduce la tendencia a usar swap; mantiene mayor parte en RAM.
#   Útil en escritorios con suficiente RAM. Para servidores de memoria limitada
#   puede preferirse un valor mayor.
# - vm.vfs_cache_pressure=50: conserva más cache de metadatos (por defecto 100).
#
# Para habilitar zswap (si el kernel lo soporta) en arranque, añade al cmdline del
# kernel (ejemplo GRUB):
#   zswap.enabled=1 zswap.max_pool_percent=20 zswap.compressor=lz4
#
# Para zram, la configuración y creación del dispositivo típicamente requiere un
# servicio que pueda ejecutar durante el arranque. No lo configuramos aquí porque
# su activación/modulación depende de la política del sistema y de la cantidad
# de memoria disponible.
