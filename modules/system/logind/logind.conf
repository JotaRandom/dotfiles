# logind.conf - systemd-logind configuration
# Optimizado para ThinkPad L420
# Path: /etc/systemd/logind.conf
# IMPORTANTE: Requiere root, copiar manualmente

[Login]
# Lid (tapa) behavior
# suspend = suspender al cerrar tapa
# poweroff = apagar
# ignore = no hacer nada
# hibernate = hibernar (requiere swap configurado)
HandleLidSwitch=suspend
HandleLidSwitchExternalPower=ignore
HandleLidSwitchDocked=ignore

# Power button behavior
HandlePowerKey=poweroff
HandlePowerKeyLongPress=ignore

# Sleep/Hibernate keys
HandleSuspendKey=suspend
HandleHibernateKey=hibernate

# Idle action (ThinkPad L420 - ahorrar batería)
# Tiempo en segundos (1800 = 30min)
#IdleAction=suspend
#IdleActionSec=1800

# Kill user processes on logout (liberar RAM)
KillUserProcesses=no

# Runtime directory size (tmpfs en RAM)
# Reducido para ThinkPad L420 (RAM limitada)
# Default 10% de RAM, establecer a 256MB
RuntimeDirectorySize=256M

# Remove IPC objects
RemoveIPC=yes

# Reservar TTYs
NAutoVTs=6
ReserveVT=6

# Power key solo para root
PowerKeyIgnoreInhibited=no
SuspendKeyIgnoreInhibited=no
HibernateKeyIgnoreInhibited=no
LidSwitchIgnoreInhibited=yes

# Notas para ThinkPad L420:
# - HandleLidSwitch=suspend es lo más común
# - Si usas external monitor, considera HandleLidSwitchDocked=ignore
# - Para máxima batería, descomenta IdleAction
# - RuntimeDirectorySize reducido por RAM limitada
