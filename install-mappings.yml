# Declarative install mappings used by scripts/install.sh and CI
# Layout: grouped by module (modules/<group>/...), destinations: xdg:, xdg_state:, xdg_data:, home:, ignore
default_action: dotify

#########################
# modules/shell
#########################
# Prompt and shell-specific configs (modules/shell/*)
starship.toml: xdg:starship/starship.toml            # modules/shell/starship
config.fish|fish: xdg:fish/config.fish              # modules/shell/fish

#########################
# modules/cli-tools
#########################
# TMux and XMMS configs (modules/cli-tools/*)
.tmux.conf: xdg:tmux/tmux.conf                       # modules/cli-tools/tmux
.tmuxrc: xdg:tmux/tmux.conf                         # modules/cli-tools/tmux (alias for .tmux.conf)
.xmms2rc: home:.xmms2rc                              # modules/cli-tools/xmms

#########################
# modules/browsers
#########################
# Browser flags and ignores (modules/browsers/*)
chrome-flags.conf|chrome:
  - xdg:chrome/chrome-flags.conf
  - xdg:chromium/chromium-flags.conf                 # modules/browsers/chrome (XDG locations)
brave-flags.conf|brave: xdg:BraveSoftware/Brave-Browser/brave-flags.conf  # modules/browsers/brave
userChrome.css|firefox: ignore                        # modules/browsers/firefox (manual/profile - copy to Firefox profile directory)
user.js|firefox: ignore                               # modules/browsers/firefox (manual/profile - copy to Firefox profile directory)

#########################
# modules/desktop/de & wm
#########################
# Desktop environments - cada uno con su xinitrc completo y optimizado
# Mapear según el DE que uses (comentar/descomentar según necesidad)

# === Cinnamon Desktop === (optimizado - polkit-gnome, csd-power, nm-applet)
.xinitrc|cinnamon: home:.xinitrc                      # modules/desktop/de/cinnamon (usar para Cinnamon)
.dmrc|cinnamon: ignore                                # modules/desktop/de/cinnamon (no usado)

# === XFCE Desktop === (optimizado - xfce-polkit, xfce4-power-manager)
.xinitrc|xfce: ignore                                 # modules/desktop/de/xfce (descomentar si usas XFCE: home:.xinitrc)
.dmrc|xfce: ignore                                    # modules/desktop/de/xfce (no usado)

# === GNOME Desktop === (minimalista - GNOME maneja servicios internamente)
.xinitrc|gnome: ignore                                # modules/desktop/de/gnome (descomentar si usas GNOME: home:.xinitrc)
.dmrc|gnome: ignore                                   # modules/desktop/de/gnome (no usado)

# === KDE Plasma === (minimalista - KDE maneja servicios internamente)
.xinitrc|kde: ignore                                  # modules/desktop/de/kde (descomentar si usas KDE: home:.xinitrc)
.dmrc|kde: ignore                                     # modules/desktop/de/kde (no usado)

# === LXQt Desktop === (optimizado - lxqt-policykit-agent, nm-applet)
.xinitrc|lxqt: ignore                                 # modules/desktop/de/lxqt (descomentar si usas LXQt: home:.xinitrc)
.dmrc|lxqt: ignore                                    # modules/desktop/de/lxqt (no usado)

# === Window Managers Standalone === (genérico para i3, awesome, bspwm, dwm, etc.)
.xinitrc|x11: ignore                                  # modules/desktop/wm/x11 (descomentar si usas WM standalone: home:.xinitrc)

#########################
# modules/desktop
#########################
# Desktop environment specific files (modules/desktop/*)
# (X11/Xsession related dotfiles are listed under Dotfiles section)
# de-settings.conf|de: xdg:de/settings.conf
.xinitrc|de: ignore                                   # Desktop-specific .xinitrc (varies by DE)
.dmrc|de: ignore                                      # Desktop-specific .dmrc (varies by DE)
.xinitrc|wm: ignore                                   # Window manager .xinitrc (manual setup)
.Xdefaults|wm: ignore                                 # X11 defaults (deprecated, use .Xresources)

#########################
# modules/pacman
#########################
makepkg.conf: xdg:pacman/makepkg.conf                # modules/pacman
fortran.conf: xdg:pacman/fortran.conf                # modules/pacman
rust.conf: xdg:pacman/rust.conf                      # modules/pacman

#########################
# modules/dev-tools
#########################
# Git, SSH, cargo, npm related (modules/dev-tools/*)
.gitconfig: xdg:git/config                            # modules/dev-tools/git
.gitignore: xdg:git/ignore                           # modules/dev-tools/git
.gitattributes: xdg:git/attributes                   # modules/dev-tools/git
.git-credentials: xdg:git/credentials                # modules/dev-tools/git
.gitk: xdg:git/gitk                                   # modules/dev-tools/git
ssh/config.example: home:.ssh/config.example         # modules/dev-tools/ssh
ssh/config: ignore                                   # modules/dev-tools/ssh (sensitive)
lazygit/config.yml: xdg:lazygit/config.yml           # modules/dev-tools/lazygit
cargo/config: xdg:cargo/config                       # modules/dev-tools/cargo
.npmrc.example: home:.npmrc.example                  # modules/dev-tools/npm
.npmrc: ignore                                       # modules/dev-tools/npm (sensitive)
.gemini.example: xdg:gemini/.gemini.example          # modules/dev-tools/gemini (template - XDG location)
.gemini: ignore                                      # modules/dev-tools/gemini (sensitive - contains API key)
.gemini/settings.json: xdg:gemini/settings.json      # modules/dev-tools/gemini/.gemini/settings.json (Gemini Code Assist supports XDG)

#########################
# modules/editor
#########################
# Editor configurations (modules/editor/*)
config.toml|helix: xdg:helix/config.toml             # modules/editor/helix
config.toml|nushell: xdg:nushell/config.toml         # modules/editor/nushell (note: nushell is a shell, not editor)
gedit-settings.xml|gedit: xdg:gedit/gedit-settings.xml # modules/editor/gedit
init.el|emacs: xdg:emacs/init.el                     # modules/editor/emacs
init.vim: xdg:nvim/init.vim                          # modules/editor/nvim
kakrc|kakoune: xdg:kak/kakrc                         # modules/editor/kakoune
kateconfig|kate: xdg:kate/kateconfig                 # modules/editor/kate
settings.json|micro: xdg:micro/settings.json         # modules/editor/micro
settings.json|vscode: xdg:Code/User/settings.json    # modules/editor/vscode
argv.json|vscode: xdg:Code/User/argv.json             # modules/editor/vscode (disable GPU acceleration)
config.json|micro: xdg:micro/config.json             # modules/editor/micro

#########################
# modules/term
#########################
# Terminal emulator configs (modules/term/*)
alacritty.yml|alacritty: xdg:alacritty/alacritty.yml  # modules/term/alacritty
kitty.conf|kitty: xdg:kitty/kitty.conf               # modules/term/kitty

#########################
# modules/system
#########################
# System-level configs, may require manual linking with sudo (all under etc/ should be ignored)
etc/default/console-setup: ignore                      # Symlink manually: sudo ln -s <repo_path> /etc/default/console-setup
etc/default/grub: ignore                               # System-level config (requires root)
etc/modprobe.d/10-audio.conf: ignore                   # System-level config (requires root)
etc/modprobe.d/10-disable-pcspkr.conf: ignore          # System-level config (requires root)
etc/modprobe.d/20-power-save.conf: ignore              # System-level config (requires root)
etc/modprobe.d/30-thinkpad.conf: ignore                # System-level config (requires root)
etc/profile.d/system-info.sh: ignore                   # System-level config (requires root)
etc/security/limits.d/99-resources.conf: ignore        # System-level config (requires root)
etc/sysctl.d/99-filesystem.conf: ignore                # System-level config (requires root)
etc/sysctl.d/99-kernel-hardening.conf: ignore          # System-level config (requires root)
etc/sysctl.d/99-network-security.conf: ignore          # System-level config (requires root)
etc/sysctl.d/99-reisub.conf: ignore                    # System-level config (requires root)
etc/sysctl.d/99-swap.conf: ignore                      # System-level config (requires root)
etc/thinkfan.conf: ignore                              # System-level config (requires root)
etc/udev/rules.d/40-security-devices.rules: ignore      # System-level config (requires root)
etc/udev/rules.d/50-usb_power_save.rules: ignore       # System-level config (requires root)
etc/udev/rules.d/70-wifi-powersave.rules: ignore       # System-level config (requires root)
etc/udev/rules.d/80-bluetooth.rules: ignore           # System-level config (requires root)
etc/X11/00-keyboard.conf: ignore                       # System-level config (requires root)
etc/X11/10-keyboard.conf: ignore                       # System-level config (requires root)
etc/X11/20-intel.conf: ignore                          # System-level config (requires root)
etc/X11/40-libinput.conf: ignore                       # System-level config (requires root)
etc/X11/70-wacom.conf: ignore                          # System-level config (requires root)
usr/local/bin/*: ignore                                # System-level scripts (requires root)

#########################
# Dotfiles (home defaults)
#########################
# General user files; source canonical locations referenced in comments
.bashrc: home:.bashrc                                 # modules/shell/bash/.bashrc
.dmrc: home:.dmrc                                    # modules/shell/common/.dmrc
.elvishrc: xdg:elvish/init.el                        # modules/shell/elvish
.inputrc: xdg:readline/inputrc                       # modules/shell/common/.inputrc
.kshrc: home:.kshrc                                  # modules/shell/ksh/.kshrc
.latexmkrc: xdg:latexmk/latexmkrc                    # modules/editor/latex/.latexmkrc
.lesshst: xdg_state:less/lesshst                     # modules/shell/common/.lesshst
.lesskey: xdg:less/lesskey                            # modules/shell/common/.lesskey
.mkshrc: home:.mkshrc                                # modules/shell/mksh/.mkshrc
nanorc: xdg:nano/nanorc                              # modules/editor/nano/nanorc (canonical)
.profile: home:.profile                              # modules/shell/bash/.profile
.tcshrc: home:.tcshrc                                # modules/shell/tcsh/.tcshrc
.twmrc: home:.twmrc                                  # modules/desktop/wm/twm/.twmrc
.vimrc: xdg:vim/vimrc                                # modules/editor/vim/.vimrc
.xonshrc: xdg:xonsh/rc.xsh                           # modules/shell/xonsh/.xonshrc
.xinitrc: ignore                                     # modules/desktop/wm/x11/.xinitrc (manual setup - varies by WM/DE)
.xserverrc: home:.xserverrc                          # modules/desktop/wm/x11/.xserverrc
.Xmodmap: xdg:X11/Xmodmap                            # modules/desktop/wm/x11/.Xmodmap
.Xresources: home:.Xresources                        # modules/desktop/wm/x11/.Xresources
.zshrc: xdg:zsh/.zshrc                               # modules/shell/zsh/.zshrc

#########################
# Session / system (X11-specific)
#########################
.xsession: home:.xsession                            # session/X11
.xsessionrc: home:.xsessionrc                        # session/X11
.Xsession: home:.Xsession                            # session/X11
.xsession-errors: ignore                             # session/X11 (runtime file, should not be symlinked)
.Xdefaults: ignore                                   # session/X11 (deprecated, use .Xresources instead)

#########################
# Misc / other
#########################
profile.ps1|pwsh: xdg:powershell/Microsoft.PowerShell_profile.ps1  # modules/shell/pwsh
thinkfan.conf: ignore                                  # hardware/system configs (requires root, copy manually)

#########################
# Docs and templates (ignored)
#########################
# Note: Wildcard patterns are not supported in YAML keys. Add specific file mappings as needed.
README.md: ignore                                     # Documentation files
ATTRIBUTIONS.md: ignore                               # Attribution documentation
# Template/example files (copy manually and customize):
config.example: ignore                                # Example config files (generic)
# Note: Specific .example files are handled individually (e.g., ssh/config.example, .npmrc.example)

