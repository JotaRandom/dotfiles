# Declarative install mappings used by scripts/install.sh and CI
# Layout: grouped by module (modules/<group>/...), destinations: xdg:, xdg_state:, xdg_data:, home:, ignore
default_action: dotify

#########################
# modules/shell
#########################

## FixMe: Fix the install mappings for the shell modules that actually use the xdg locations

# Shell-specific configs (modules/shell/*)
starship.toml|starship: xdg:starship/starship.toml  # modules/shell/starship
config.fish|fish: xdg:fish/config.fish               # modules/shell/fish
Microsoft.PowerShell_profile.ps1|pwsh: xdg:powershell/Microsoft.PowerShell_profile.ps1 # modules/shell/pwsh

# Dotfiles de shells específicas
.bashrc|bash: home:.bashrc                            # modules/shell/bash
.bash_profile|bash: home:.bash_profile               # modules/shell/bash
.profile|bash: home:.profile                          # modules/shell/bash
.zshrc|zsh: home:.zshrc                               # modules/shell/zsh
.zprofile|zsh: home:.zprofile                         # modules/shell/zsh
.kshrc|ksh: home:.kshrc                               # modules/shell/ksh
.mkshrc|mksh: home:.mkshrc                            # modules/shell/mksh
.tcshrc|tcsh: home:.tcshrc                            # modules/shell/tcsh
rc.elv|elvish: xdg:elvish/rc.elv                     # modules/shell/elvish (XDG_CONFIG_HOME/elvish/rc.elv)
rc.xsh|xonsh: xdg:xonsh/rc.xsh                       # modules/shell/xonsh (XDG_CONFIG_HOME/xonsh/rc.xsh)
config.nu|nushell: xdg:nushell/config.nu             # modules/shell/nushell

# Shell common files
.inputrc|common: home:.inputrc                        # modules/shell/common (readline)
.lesshst|common: xdg_state:less/lesshst              # modules/shell/common (less history - XDG_STATE_HOME)
.lesskey|common: xdg:lesskey                         # modules/shell/common (less key bindings - XDG_CONFIG_HOME)
.dmrc|common: home:.dmrc                              # modules/shell/common (display manager)

#########################
# modules/cli-tools
#########################
# TMux and XMMS configs (modules/cli-tools/*)
.tmux.conf|tmux: xdg:tmux/tmux.conf                  # modules/cli-tools/tmux
xmms2.conf|xmms: xdg:xmms2/xmms2.conf                # modules/cli-tools/xmms (XDG_CONFIG_HOME/xmms2/ contains startup.d, shutdown.d, medialib.db)
htoprc|htop: xdg:htop/htoprc                         # modules/cli-tools/htop (Windows Task Manager style)

# Modern CLI tools
fzf.bash|fzf: xdg:fzf/fzf.bash                       # modules/cli-tools/fzf (fuzzy finder)
config|bat: xdg:bat/config                           # modules/cli-tools/bat (cat with syntax highlighting)
ripgreprc|ripgrep: home:.ripgreprc                   # modules/cli-tools/ripgrep (better grep)
ignore|fd: xdg:fd/ignore                             # modules/cli-tools/fd (better find)
config|eza: xdg:eza/config                           # modules/cli-tools/eza (modern ls)
dust.conf|dust: xdg:dust/dust.conf                   # modules/cli-tools/dust (modern du)

#########################
# modules/browsers
#########################
# Browser flags and ignores (modules/browsers/*)
chrome-flags.conf|chrome:
  - xdg:chrome/chrome-flags.conf
  - xdg:chromium/chromium-flags.conf                 # modules/browsers/chrome (XDG locations)
brave-flags.conf|brave: xdg:BraveSoftware/Brave-Browser/brave-flags.conf  # modules/browsers/brave
userChrome.css|firefox: ignore                        # modules/browsers/firefox (manual/profile - copy to Firefox profile directory)
user.js|firefox: ignore                               # modules/browsers/firefox (manual/profile - copy to Firefox profile directory)

#########################
# modules/desktop/de & wm
#########################
# Desktop environments - cada uno con su xinitrc completo y optimizado
# Mapear según el DE que uses (comentar/descomentar según necesidad)

# === Cinnamon Desktop === (optimizado - polkit-gnome, csd-power, nm-applet)
.xinitrc|cinnamon: home:.xinitrc                      # modules/desktop/de/cinnamon (usar para Cinnamon)
.dmrc|cinnamon: ignore                                # modules/desktop/de/cinnamon (no usado)

# === XFCE Desktop === (optimizado - xfce-polkit, xfce4-power-manager)
.xinitrc|xfce: ignore                                 # modules/desktop/de/xfce (descomentar si usas XFCE: home:.xinitrc)
.dmrc|xfce: ignore                                    # modules/desktop/de/xfce (no usado)

# === GNOME Desktop === (minimalista - GNOME maneja servicios internamente)
.xinitrc|gnome: ignore                                # modules/desktop/de/gnome (descomentar si usas GNOME: home:.xinitrc)
.dmrc|gnome: ignore                                   # modules/desktop/de/gnome (no usado)

# === KDE Plasma === (minimalista - KDE maneja servicios internamente)
.xinitrc|kde: ignore                                  # modules/desktop/de/kde (descomentar si usas KDE: home:.xinitrc)
.dmrc|kde: ignore                                     # modules/desktop/de/kde (no usado)

# === LXQt Desktop === (optimizado - lxqt-policykit-agent, nm-applet)
.xinitrc|lxqt: ignore                                 # modules/desktop/de/lxqt (descomentar si usas LXQt: home:.xinitrc)
.dmrc|lxqt: ignore                                    # modules/desktop/de/lxqt (no usado)

# === Window Managers Standalone === (genérico para i3, awesome, bspwm, dwm, etc.)
.xinitrc|x11: ignore                                  # modules/desktop/wm/x11 (descomentar si usas WM standalone: home:.xinitrc)
.Xmodmap|x11: home:.Xmodmap                           # modules/desktop/wm/x11 (keyboard mappings)
.xserverrc|x11: home:.xserverrc                       # modules/desktop/wm/x11 (X server config)
.xsession|x11: home:.xsession                         # modules/desktop/wm/x11 (session script)
.xsessionrc|x11: home:.xsessionrc                     # modules/desktop/wm/x11 (session config)


#########################
# modules/desktop
#########################
# Desktop environment specific files (modules/desktop/*)
# (X11/Xsession related dotfiles are listed under Dotfiles section)
# de-settings.conf|de: xdg:de/settings.conf
.xinitrc|de: ignore                                   # Desktop-specific .xinitrc (varies by DE)
.dmrc|de: ignore                                      # Desktop-specific .dmrc (varies by DE)
.xinitrc|wm: ignore                                   # Window manager .xinitrc (manual setup)
.Xdefaults|wm: ignore                                 # X11 defaults (deprecated, use .Xresources)

# Window Managers - Windows 95/98 Style
preferences|icewm: xdg:icewm/preferences             # modules/desktop/wm/icewm
.xinitrc|icewm: ignore                               # modules/desktop/wm/icewm
config|fvwm: xdg:fvwm/config                         # modules/desktop/wm/fvwm
.xinitrc|fvwm: ignore                                # modules/desktop/wm/fvwm
rc.xml|openbox: xdg:openbox/rc.xml                   # modules/desktop/wm/openbox
.xinitrc|openbox: ignore                             # modules/desktop/wm/openbox
config|sway: xdg:sway/config                        # modules/desktop/wm/sway (Wayland)
hyprland.conf|hyprland: xdg:hypr/hyprland.conf       # modules/desktop/wm/hyprland (Wayland)
rc.xml|labwc: xdg:labwc/rc.xml                       # modules/desktop/wm/labwc (Wayland)
themerc|labwc: xdg:labwc/themerc                     # modules/desktop/wm/labwc
autostart|labwc: xdg:labwc/autostart                 # modules/desktop/wm/labwc

# Waybar (Wayland status bar)
config.jsonc|waybar: xdg:waybar/config.jsonc           # modules/desktop/wm/waybar
style.css|waybar: xdg:waybar/style.css               # modules/desktop/wm/waybar

# Window Managers - NeXTSTEP Style
WindowMaker|windowmaker: home:GNUstep/Defaults/WindowMaker  # modules/desktop/wm/windowmaker
.xinitrc|windowmaker: ignore                         # modules/desktop/wm/windowmaker
wlmaker.plist|wlmaker: xdg:wlmaker/wlmaker.plist     # modules/desktop/wm/wlmaker (Wayland)

# Window Managers - Classic
.twmrc|twm: home:.twmrc                              # modules/desktop/wm/twm

#########################
# modules/pacman
#########################
makepkg.conf|pacman: xdg:pacman/makepkg.conf         # modules/pacman
fortran.conf|pacman: xdg:pacman/fortran.conf         # modules/pacman
rust.conf|pacman: xdg:pacman/rust.conf               # modules/pacman

#########################
# modules/dev-tools
#########################
# Development tools configs (modules/dev-tools/*)

# Git configuration
.gitconfig|git: xdg:git/config                       # modules/dev-tools/git
.gitignore|git: xdg:git/ignore                       # modules/dev-tools/git (global gitignore)
.gitattributes|git: xdg:git/attributes               # modules/dev-tools/git
.git-credentials|git: xdg:git/credentials            # modules/dev-tools/git (encrypted/template)
.gitk|git: xdg:git/gitk                              # modules/dev-tools/git (gitk config)

# Cargo (Rust package manager)
config|cargo: xdg:cargo/config                 # modules/dev-tools/cargo

# Gemini AI settings
.gemini/settings.json|gemini: home:.gemini/settings.json  # modules/dev-tools/gemini
.gemini.example|gemini: ignore                            # modules/dev-tools/gemini (example file)

# Lazygit
config.yml|lazygit: xdg:lazygit/config.yml                # modules/dev-tools/lazygit

# SSH
config.example|ssh: home:.ssh/config.example              # modules/dev-tools/ssh (template)
config|ssh: ignore                                        # modules/dev-tools/ssh (sensitive)

# NPM
.npmrc.example|npm: home:.npmrc.example                   # modules/dev-tools/npm (template)
.npmrc|npm: ignore                                        # modules/dev-tools/npm (sensitive)

# Python Development
pyproject.toml|python: ignore                        # modules/dev-tools/python (template - copy to projects)

#########################
# modules/system
#########################
# Fontconfig (fontconfig-ultimate style)
fonts.conf|fontconfig: xdg:fontconfig/fonts.conf     # modules/system/fontconfig

# Power Management (TLP for ThinkPad)
tlp.conf|power-management: ignore                    # modules/system/power-management (needs root - copy manually)

# ThinkPad specific (TrackPoint config)
trackpoint.sh|thinkpad: ignore                       # modules/system/thinkpad (manual review - device specific)
trackpoint-config.service|thinkpad: ignore           # modules/system/thinkpad (manual review - systemd service)

# Logind (systemd power management)
logind.conf|logind: ignore                           # modules/system/logind (needs root - copy to /etc/systemd/logind.conf)

# System /etc configs (all need root)
thinkfan.conf|etc: ignore                            # modules/system/etc (needs root)
console-setup|etc: ignore                            # modules/system/etc/default (needs root)
grub|etc: ignore                                     # modules/system/etc/default (needs root)
10-audio.conf|etc: ignore                            # modules/system/etc/modprobe.d (needs root)
10-disable-pcspkr.conf|etc: ignore                   # modules/system/etc/modprobe.d (needs root)
20-power-save.conf|etc: ignore                       # modules/system/etc/modprobe.d (needs root)
30-thinkpad.conf|etc: ignore                         # modules/system/etc/modprobe.d (needs root)
system-info.sh|etc: ignore                           # modules/system/etc/profile.d (needs root)
99-resources.conf|etc: ignore                        # modules/system/etc/security/limits.d (needs root)
99-filesystem.conf|etc: ignore                       # modules/system/etc/sysctl.d (needs root)
99-kernel-hardening.conf|etc: ignore                 # modules/system/etc/sysctl.d (needs root)
99-network-security.conf|etc: ignore                 # modules/system/etc/sysctl.d (needs root)
99-reisub.conf|etc: ignore                           # modules/system/etc/sysctl.d (needs root)
99-swap.conf|etc: ignore                             # modules/system/etc/sysctl.d (needs root)
40-security-devices.rules|etc: ignore                # modules/system/etc/udev/rules.d (needs root)
50-usb_power_save.rules|etc: ignore                  # modules/system/etc/udev/rules.d (needs root)
70-wifi-powersave.rules|etc: ignore                  # modules/system/etc/udev/rules.d (needs root)
80-bluetooth.rules|etc: ignore                       # modules/system/etc/udev/rules.d (needs root)
00-keyboard.conf|etc: ignore                         # modules/system/etc/X11/xorg.conf.d (needs root)
10-keyboard.conf|etc: ignore                         # modules/system/etc/X11/xorg.conf.d (needs root)
20-intel.conf|etc: ignore                            # modules/system/etc/X11/xorg.conf.d (needs root)
40-libinput.conf|etc: ignore                         # modules/system/etc/X11/xorg.conf.d (needs root)
70-wacom.conf|etc: ignore                            # modules/system/etc/X11/xorg.conf.d (needs root)

#########################
# modules/editor
#########################
# Editor configurations (modules/editor/*)
config.toml|helix: xdg:helix/config.toml             # modules/editor/helix
init.el|emacs: xdg:emacs/init.el                     # modules/editor/emacs
gedit-settings.sh|gedit: ignore                      # modules/editor/gedit (aplicar con bash)
init.vim|nvim: xdg:nvim/init.vim                     # modules/editor/nvim
kakrc|kakoune: xdg:kak/kakrc                         # modules/editor/kakoune
katerc|kate: xdg:kate/katerc                         # modules/editor/kate
settings.json|micro: xdg:micro/settings.json         # modules/editor/micro
settings.json|vscode: xdg:Code/User/settings.json    # modules/editor/vscode
argv.json|vscode: xdg:Code/User/argv.json             # modules/editor/vscode (disable GPU acceleration)
vimrc|vim: xdg:vim/vimrc                              # modules/editor/vim (XDG_CONFIG_HOME/vim/vimrc)
nanorc|nano: xdg:nano/nanorc                          # modules/editor/nano (DOS Edit style)
xed-settings.sh|xed: ignore                          # modules/editor/xed (aplicar con bash - Linux Mint)

# Sublime Text
Preferences.sublime-settings|sublime: xdg:sublime-text/Packages/User/Preferences.sublime-settings
Default (Windows).sublime-keymap|sublime: xdg:sublime-text/Packages/User/Default (Windows).sublime-keymap
Package Control.sublime-settings|sublime: xdg:sublime-text/Packages/User/Package Control.sublime-settings

# LaTeX
.latexmkrc|latex: home:.latexmkrc                     # modules/editor/latex

#########################
# modules/term
#########################
# Terminal emulator configs (modules/term/*)
alacritty.toml|alacritty: xdg:alacritty/alacritty.toml  # modules/term/alacritty
kitty.conf|kitty: xdg:kitty/kitty.conf               # modules/term/kitty
gnome-terminal-settings.sh|gnome-terminal: ignore    # modules/term/gnome-terminal (aplicar con bash)
Profile.profile|konsole: xdg_data:konsole/Profile.profile # modules/term/konsole (KDE)
terminalrc|xfce4-terminal: xdg:xfce4/terminal/terminalrc # modules/term/xfce4-terminal
tilix.json|tilix: xdg:tilix/tilix.json               # modules/term/tilix
.Xresources|xterm: home:.Xresources                  # modules/term/xterm (CMD Win95/98 style)
foot.ini|foot: xdg:foot/foot.ini                     # modules/term/foot (Wayland CMD Win95/98)

#########################
# modules/system
#########################
# System-level configs, may require manual linking with sudo (all under etc/ should be ignored)
etc/default/console-setup: ignore                      # Symlink manually: sudo ln -s <repo_path> /etc/default/console-setup
etc/default/grub: ignore                               # System-level config (requires root)
etc/modprobe.d/10-audio.conf: ignore                   # System-level config (requires root)
etc/modprobe.d/10-disable-pcspkr.conf: ignore          # System-level config (requires root)
etc/modprobe.d/20-power-save.conf: ignore              # System-level config (requires root)
etc/modprobe.d/30-thinkpad.conf: ignore                # System-level config (requires root)
etc/profile.d/system-info.sh: ignore                   # System-level config (requires root)
etc/security/limits.d/99-resources.conf: ignore        # System-level config (requires root)
etc/sysctl.d/99-filesystem.conf: ignore                # System-level config (requires root)
etc/sysctl.d/99-kernel-hardening.conf: ignore          # System-level config (requires root)
etc/sysctl.d/99-network-security.conf: ignore          # System-level config (requires root)
etc/sysctl.d/99-reisub.conf: ignore                    # System-level config (requires root)
etc/sysctl.d/99-swap.conf: ignore                      # System-level config (requires root)
etc/thinkfan.conf: ignore                              # System-level config (requires root)
etc/udev/rules.d/40-security-devices.rules: ignore      # System-level config (requires root)
etc/udev/rules.d/50-usb_power_save.rules: ignore       # System-level config (requires root)
etc/udev/rules.d/70-wifi-powersave.rules: ignore       # System-level config (requires root)
etc/udev/rules.d/80-bluetooth.rules: ignore           # System-level config (requires root)
etc/X11/00-keyboard.conf: ignore                       # System-level config (requires root)
etc/X11/10-keyboard.conf: ignore                       # System-level config (requires root)
etc/X11/20-intel.conf: ignore                          # System-level config (requires root)
etc/X11/40-libinput.conf: ignore                       # System-level config (requires root)
etc/X11/70-wacom.conf: ignore                          # System-level config (requires root)
usr/local/bin/*: ignore                                # System-level scripts (requires root)

#########################
# Misc / other
#########################
thinkfan.conf: ignore                                  # hardware/system configs (requires root, copy manually)

#########################
# Docs and templates (ignored)
#########################
README.md: ignore
ATTRIBUTIONS.md: ignore
config.example: ignore
.gitconfig: ignore                                     # Git config (may contain user info)
.netrc: ignore                                         # Network credentials (sensitive)
.authinfo: ignore                                      # Authentication info (sensitive)
.gnupg/*: ignore                                       # GPG keys (private)
.ssh/*: ignore                                         # SSH keys (private - except config.example)
