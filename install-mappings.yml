# Declarative install mappings used by scripts/install.sh and CI
# Layout: grouped by module (modules/<group>/...), destinations: xdg:, xdg_state:, xdg_data:, home:, ignore
default_action: dotify

#########################
# modules/shell
#########################

## FixMe: Fix the install mappings for the shell modules that actually use the xdg locations

# Shell-specific configs (modules/shell/*)
starship.toml|starship: xdg:starship/starship.toml  # modules/shell/starship
config.fish|fish: xdg:fish/config.fish               # modules/shell/fish
config.toml|nushell: xdg:nushell/config.toml         # modules/shell/nushell
profile.ps1|pwsh: xdg:powershell/profile.ps1         # modules/shell/pwsh

# Dotfiles de shells específicas
.bashrc|bash: home:.bashrc                            # modules/shell/bash
.profile|bash: home:.profile                          # modules/shell/bash
.zshrc|zsh: home:.zshrc                               # modules/shell/zsh
.kshrc|ksh: home:.kshrc                               # modules/shell/ksh
.mkshrc|mksh: home:.mkshrc                            # modules/shell/mksh
.tcshrc|tcsh: home:.tcshrc                            # modules/shell/tcsh
.elvishrc|elvish: home:.elvishrc                      # modules/shell/elvish
.xonshrc|xonsh: home:.xonshrc                         # modules/shell/xonsh

# Shell common files
.inputrc|common: home:.inputrc                        # modules/shell/common (readline)
.lesshst|common: xdg_state:less/lesshst              # modules/shell/common (less history)
.lesskey|common: home:.lesskey                        # modules/shell/common (less key bindings)
.dmrc|common: home:.dmrc                              # modules/shell/common (display manager)

#########################
# modules/cli-tools
#########################
# TMux and XMMS configs (modules/cli-tools/*)
.tmux.conf|tmux: xdg:tmux/tmux.conf                  # modules/cli-tools/tmux
.tmuxrc|tmux: xdg:tmux/tmux.conf                     # modules/cli-tools/tmux (alias for .tmux.conf)
.xmms2rc|xmms: home:.xmms2rc                         # modules/cli-tools/xmms

#########################
# modules/browsers
#########################
# Browser flags and ignores (modules/browsers/*)
chrome-flags.conf|chrome:
  - xdg:chrome/chrome-flags.conf
  - xdg:chromium/chromium-flags.conf                 # modules/browsers/chrome (XDG locations)
brave-flags.conf|brave: xdg:BraveSoftware/Brave-Browser/brave-flags.conf  # modules/browsers/brave
userChrome.css|firefox: ignore                        # modules/browsers/firefox (manual/profile - copy to Firefox profile directory)
user.js|firefox: ignore                               # modules/browsers/firefox (manual/profile - copy to Firefox profile directory)

#########################
# modules/desktop/de & wm
#########################
# Desktop environments - cada uno con su xinitrc completo y optimizado
# Mapear según el DE que uses (comentar/descomentar según necesidad)

# === Cinnamon Desktop === (optimizado - polkit-gnome, csd-power, nm-applet)
.xinitrc|cinnamon: home:.xinitrc                      # modules/desktop/de/cinnamon (usar para Cinnamon)
.dmrc|cinnamon: ignore                                # modules/desktop/de/cinnamon (no usado)

# === XFCE Desktop === (optimizado - xfce-polkit, xfce4-power-manager)
.xinitrc|xfce: ignore                                 # modules/desktop/de/xfce (descomentar si usas XFCE: home:.xinitrc)
.dmrc|xfce: ignore                                    # modules/desktop/de/xfce (no usado)

# === GNOME Desktop === (minimalista - GNOME maneja servicios internamente)
.xinitrc|gnome: ignore                                # modules/desktop/de/gnome (descomentar si usas GNOME: home:.xinitrc)
.dmrc|gnome: ignore                                   # modules/desktop/de/gnome (no usado)

# === KDE Plasma === (minimalista - KDE maneja servicios internamente)
.xinitrc|kde: ignore                                  # modules/desktop/de/kde (descomentar si usas KDE: home:.xinitrc)
.dmrc|kde: ignore                                     # modules/desktop/de/kde (no usado)

# === LXQt Desktop === (optimizado - lxqt-policykit-agent, nm-applet)
.xinitrc|lxqt: ignore                                 # modules/desktop/de/lxqt (descomentar si usas LXQt: home:.xinitrc)
.dmrc|lxqt: ignore                                    # modules/desktop/de/lxqt (no usado)

# === Window Managers Standalone === (genérico para i3, awesome, bspwm, dwm, etc.)
.xinitrc|x11: ignore                                  # modules/desktop/wm/x11 (descomentar si usas WM standalone: home:.xinitrc)

#########################
# modules/desktop
#########################
# Desktop environment specific files (modules/desktop/*)
# (X11/Xsession related dotfiles are listed under Dotfiles section)
# de-settings.conf|de: xdg:de/settings.conf
.xinitrc|de: ignore                                   # Desktop-specific .xinitrc (varies by DE)
.dmrc|de: ignore                                      # Desktop-specific .dmrc (varies by DE)
.xinitrc|wm: ignore                                   # Window manager .xinitrc (manual setup)
.Xdefaults|wm: ignore                                 # X11 defaults (deprecated, use .Xresources)

#########################
# modules/pacman
#########################
makepkg.conf|pacman: xdg:pacman/makepkg.conf         # modules/pacman
fortran.conf|pacman: xdg:pacman/fortran.conf         # modules/pacman
rust.conf|pacman: xdg:pacman/rust.conf               # modules/pacman

#########################
# modules/dev-tools
#########################
# Development tools configs (modules/dev-tools/*)

# Git configuration
.gitconfig|git: xdg:git/config                       # modules/dev-tools/git
.gitignore|git: xdg:git/ignore                       # modules/dev-tools/git (global gitignore)
.gitattributes|git: xdg:git/attributes               # modules/dev-tools/git
.git-credentials|git: xdg:git/credentials            # modules/dev-tools/git (encrypted/template)
.gitk|git: xdg:git/gitk                              # modules/dev-tools/git (gitk config)

# Cargo (Rust package manager)
cargo/config|cargo: xdg:cargo/config                 # modules/dev-tools/cargo

# Gemini AI settings
.gemini/settings.json|gemini: home:.gemini/settings.json  # modules/dev-tools/gemini
.gemini.example: ignore                               # modules/dev-tools/gemini (example file)

# Lazygit
lazygit/config.yml|lazygit: xdg:lazygit/config.yml   # modules/dev-tools/lazygit
# SSH
ssh/config.example: home:.ssh/config.example         # modules/dev-tools/ssh (template)
ssh/config: ignore                                   # modules/dev-tools/ssh (sensitive)

# NPM
.npmrc.example: home:.npmrc.example                  # modules/dev-tools/npm (template)
.npmrc: ignore                                       # modules/dev-tools/npm (sensitive)

#########################
# modules/editor
#########################
# Editor configurations (modules/editor/*)
config.toml|helix: xdg:helix/config.toml             # modules/editor/helix
config.toml|nushell: xdg:nushell/config.toml         # modules/editor/nushell (note: nushell is a shell, not editor)
gedit-settings.xml|gedit: xdg:gedit/gedit-settings.xml # modules/editor/gedit
init.el|emacs: xdg:emacs/init.el                     # modules/editor/emacs
init.vim|nvim: xdg:nvim/init.vim                     # modules/editor/nvim
kakrc|kakoune: xdg:kak/kakrc                         # modules/editor/kakoune
kateconfig|kate: xdg:kate/kateconfig                 # modules/editor/kate
settings.json|micro: xdg:micro/settings.json         # modules/editor/micro
settings.json|vscode: xdg:Code/User/settings.json    # modules/editor/vscode
argv.json|vscode: xdg:Code/User/argv.json             # modules/editor/vscode (disable GPU acceleration)
config.json|micro: xdg:micro/config.json             # modules/editor/micro

#########################
# modules/term
#########################
# Terminal emulator configs (modules/term/*)
alacritty.yml|alacritty: xdg:alacritty/alacritty.yml  # modules/term/alacritty
kitty.conf|kitty: xdg:kitty/kitty.conf               # modules/term/kitty

#########################
# modules/system
#########################
# System-level configs, may require manual linking with sudo (all under etc/ should be ignored)
etc/default/console-setup: ignore                      # Symlink manually: sudo ln -s <repo_path> /etc/default/console-setup
etc/default/grub: ignore                               # System-level config (requires root)
etc/modprobe.d/10-audio.conf: ignore                   # System-level config (requires root)
etc/modprobe.d/10-disable-pcspkr.conf: ignore          # System-level config (requires root)
etc/modprobe.d/20-power-save.conf: ignore              # System-level config (requires root)
etc/modprobe.d/30-thinkpad.conf: ignore                # System-level config (requires root)
etc/profile.d/system-info.sh: ignore                   # System-level config (requires root)
etc/security/limits.d/99-resources.conf: ignore        # System-level config (requires root)
etc/sysctl.d/99-filesystem.conf: ignore                # System-level config (requires root)
etc/sysctl.d/99-kernel-hardening.conf: ignore          # System-level config (requires root)
etc/sysctl.d/99-network-security.conf: ignore          # System-level config (requires root)
etc/sysctl.d/99-reisub.conf: ignore                    # System-level config (requires root)
etc/sysctl.d/99-swap.conf: ignore                      # System-level config (requires root)
etc/thinkfan.conf: ignore                              # System-level config (requires root)
etc/udev/rules.d/40-security-devices.rules: ignore      # System-level config (requires root)
etc/udev/rules.d/50-usb_power_save.rules: ignore       # System-level config (requires root)
etc/udev/rules.d/70-wifi-powersave.rules: ignore       # System-level config (requires root)
etc/udev/rules.d/80-bluetooth.rules: ignore           # System-level config (requires root)
etc/X11/00-keyboard.conf: ignore                       # System-level config (requires root)
etc/X11/10-keyboard.conf: ignore                       # System-level config (requires root)
etc/X11/20-intel.conf: ignore                          # System-level config (requires root)
etc/X11/40-libinput.conf: ignore                       # System-level config (requires root)
etc/X11/70-wacom.conf: ignore                          # System-level config (requires root)
usr/local/bin/*: ignore                                # System-level scripts (requires root)

# Session / system (X11-specific)
#########################
.xsession: home:.xsession                            # session/X11
.xsessionrc: home:.xsessionrc                        # session/X11
.Xsession: home:.Xsession                            # session/X11
.xsession-errors: ignore                             # session/X11 (runtime file, should not be symlinked)
.Xdefaults: ignore                                   # session/X11 (deprecated, use .Xresources instead)

#########################
# Misc / other
#########################
profile.ps1|pwsh: xdg:powershell/Microsoft.PowerShell_profile.ps1  # modules/shell/pwsh
thinkfan.conf: ignore                                  # hardware/system configs (requires root, copy manually)

#########################
# Docs and templates (ignored)
#########################
# Note: Wildcard patterns are not supported in YAML keys. Add specific file mappings as needed.
README.md: ignore                                     # Documentation files
ATTRIBUTIONS.md: ignore                               # Attribution documentation
# Template/example files (copy manually and customize):
config.example: ignore                                # Example config files (generic)
# Note: Specific .example files are handled individually (e.g., ssh/config.example, .npmrc.example)

